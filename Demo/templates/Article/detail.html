{% extends "base.html" %}
{% load staticfiles %}
{% block title %}
{{ Article.title }}
{% endblock %}
{% block content %}
<div class="container-fluid">
    {% include "nav3.html" %}
</div>
<div class="row text-left" style="margin-top:10px;">

    <div class="col-12 col-sm-12 col-md-3 border AuthorDetail text-center">
        <div class="author-name">{{ Article.author.username}}的其他文章</div>
        <div class="ArticleList">
            {% for article in Articles %}
            {% if article != Article %}
            <a href="{{ article.get_detail_url }}" style="color:black;font-family: 华文新魏;">
                <div class="Article text-left">
                    <div class="title">
                        <h4>{{ article.title }}</h4>
                    </div>
                    <div class="author_time" style="color:#8F938F;">
                        {{ article.author.username }} | {{ article.column }} | {{ article.publish_time }}
                    </div>
                </div>
            </a>
            {% endif %}
            {% endfor %}
        </div>
    </div>
    <div class="col-12 col-sm-12 col-md-8 ArticleArea">
        <div>
            <header>
                <h2>{{ Article.title }}</h2>
                <p>{{ Article.publish_time}} <a href="#">{{ Article.author.username }}</a> {{ Article.column }}</p>
            </header>
            <link rel="stylesheet" href="{% static 'editor/css/editormd.preview.css' %}">
            <div id="editormd-view" style="padding:0;font-size:1.0rem;">
                <textarea id="append-test" style="display: none;">
                    {{ Article.body }}
                </textarea>
            </div>
            <footer class="text-center">
                <p>PS:转载请经过作者许可，并注明出处和来源，谢谢。</p>
            </footer>
        </div>
    </div>
</div>
<script type="text/javascript" src="{% static 'editor/lib/marked.min.js' %}"></script>
<script type="text/javascript" src="{% static 'editor/lib/prettify.min.js' %}"></script>
<script type="text/javascript" src="{% static 'editor/lib/raphael.min.js' %}"></script>
<script type="text/javascript" src="{% static 'editor/lib/underscore.min.js' %}"></script>
<script type="text/javascript" src="{% static 'editor/lib/sequence-diagram.min.js' %}"></script>
<script type="text/javascript" src="{% static 'editor/lib/flowchart.min.js' %}"></script>
<script type="text/javascript" src="{% static 'editor/lib/jquery.flowchart.min.js' %}"></script>
<script type="text/javascript" src="{% static 'editor/editormd.js' %}"></script>

<script type="text/javascript">

    $(function () {
        editormd.markdownToHTML("editormd-view", {
            htmlDecode: "style,script,iframe",
            emoji: true,
            taskList: true,
            tex: true,
            flowChart: true,
            sequenceDiagram: true,
        });
    });

</script>
{% endblock %}